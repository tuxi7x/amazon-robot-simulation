image: ubuntu:20.04

stages:
  - build
  - test

before_script:
 - DEBIAN_FRONTEND=noninteractive apt-get update
 - apt-get install --yes build-essential cmake python3.8
 - pip install aqtinstall

test_server:
  stage: test
  script:
    - cmake ./Server/
    - make ServerTest
    - ./tests/ServerTest


test_client:
  stage: test
  script:
    - cmake ./Client/
    - make TestClient
    - ./tests/TestClient